{
  "version": 3,
  "sources": [
    "node_modules/tslib/tslib.es6.js",
    "web/src/app/ui/kmwuifloat.ts"
  ],
  "sourceRoot": "https://s.keyman.com/kmw/engine/19.0.187/src",
  "sourcesContent": [
    "/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n",
    "/***\r\n   KeymanWeb 17.0\r\n   Copyright 2019-2023 SIL International\r\n***/\r\n\r\nimport type { KeymanEngine, UIModule } from 'keyman/app/browser';\r\n\r\ndeclare global {\r\n  interface Window {\r\n    keyman: KeymanEngine\r\n  }\r\n}\r\n\r\nconst keymanweb=window.keyman;\r\n\r\n// If a UI module has been loaded, we can rely on the publically-published 'name' property\r\n// having been set as a way to short-out a UI reload.  Its parent object always exists by\r\n// this point in the build process.\r\nif(!keymanweb) {\r\n  throw new Error(\"`keyman` global is missing; Keyman Engine for Web script has not been loaded\");\r\n} else if(!keymanweb.ui?.name) {\r\n  /********************************/\r\n  /*                              */\r\n  /* Floating User Interface      */\r\n  /*                              */\r\n  /********************************/\r\n\r\n  /**\r\n   * Do not enclose in an anonymous function, as the compiler may create\r\n   * global scope variables to replace true, false, null, which can collide\r\n   * with other variables.\r\n   * Instead, use the --output-wrapper command during optimization, which will\r\n   * add the anonymous function to enclose all code, including those optimized\r\n   * variables which would otherwise have global scope.\r\n   **/\r\n\r\n  try {\r\n\r\n    // Declare KeymanWeb, OnScreen keyboard and Util objects\r\n    const util=keymanweb.util;\r\n\r\n    // Disable UI for touch devices\r\n    if(util.isTouchDevice()) {\r\n      throw '';\r\n    }\r\n\r\n    class UIFloat implements UIModule {\r\n      // User interface global and local variables\r\n      readonly name = 'float';\r\n\r\n      /**\r\n       * The top-level element for the keyboard-selection drop menu\r\n       */\r\n      KeyboardSelector: HTMLSelectElement = null;\r\n\r\n      /**\r\n       * Container for all Float UI elements (visible when KeymanWeb is active)\r\n       */\r\n      outerDiv: HTMLDivElement = null;     // replaces DivKeymanWeb\r\n\r\n      innerDiv: HTMLDivElement = null;     // replaces Lkdiv\r\n\r\n      /**\r\n       * The button element allowing users to toggle the OSK on or off\r\n       */\r\n      oskButton: HTMLDivElement = null;\r\n\r\n      /**\r\n       * keyboard icon within the OSK button\r\n       */\r\n      kbdIcon: HTMLImageElement = null;\r\n\r\n      /**\r\n       * Tracks ongoing user interactions with the Float UI.  This is used to help\r\n       * control focus-related behaviors during selection so that KMW may more easily\r\n       * maintain the user's intended focus & expected context.\r\n       */\r\n      selecting = false;\r\n\r\n      updateList = true;   // control keyboard list updating\r\n      updateTimer: number = 0;  // prevent unnecessary list refreshing\r\n      floatRight = false;  // align left by default\r\n      initialized = false; // initialization flag\r\n      initTimer: number = 0;\r\n\r\n      /**\r\n       * Display or hide the OSK from the OSK icon link\r\n       */\r\n      readonly toggleOSK = () => {\r\n        keymanweb.activatingUI(true);\r\n        const osk = keymanweb.osk;\r\n        if(osk && osk.show) {\r\n          if(osk.isEnabled()) {\r\n            osk.hide();\r\n          } else {\r\n            osk.show(true);\r\n          }\r\n        }\r\n        if(window.event) {\r\n          window.event.returnValue=false;\r\n        }\r\n        keymanweb.focusLastActiveElement();\r\n        keymanweb.activatingUI(false);\r\n        return false;\r\n      }\r\n\r\n      /**\r\n       * Function     Initialize\r\n       * Scope        Private\r\n       * Description  UI Initialization\r\n       **/\r\n      readonly initialize = () => {\r\n        if(this.initTimer) {\r\n          window.clearTimeout(this.initTimer);\r\n          this.initTimer = null;\r\n        }\r\n\r\n        // Must always initialize after keymanWeb itself, otherwise options are undefined\r\n        if(!keymanweb.initialized) {\r\n          this.initTimer = window.setTimeout(this.initialize, 50);\r\n          return;\r\n        }\r\n\r\n        if(this.initialized || util.isTouchDevice()) {\r\n          return;\r\n        }\r\n\r\n        const imgPath=util.getOption('resources')+\"ui/float/\";\r\n\r\n        this.outerDiv = util.createElement('div');         // Container for UI (visible when KeymanWeb is active)\r\n        this.innerDiv = util.createElement('div');         // inner div for UI\r\n        this.kbdIcon = util.createElement('img');\r\n        this.outerDiv.innerHTML = \"<a href='https://keyman.com/developer/keymanweb/' target='KeymanWebHelp'>\"\r\n          + \"<img src='\"+imgPath+\"kmicon.gif' border='0' style='padding: 0px 2px 0 1px; margin:0px;' title='KeymanWeb' alt='KeymanWeb' /></a>\"; /* I2081 */\r\n\r\n        let s=this.outerDiv.style;\r\n        s.backgroundColor='white'; s.border='solid 1px black'; s.position='absolute'; s.height='18px';\r\n        s.font='bold 8pt sans-serif'; s.display='none'; s.textAlign='left';s.overflow='hidden';\r\n\r\n        util.attachDOMEvent(this.outerDiv, 'mousedown', this._SelectorMouseDown);\r\n        util.attachDOMEvent(this.outerDiv, 'mouseover', this._SelectorMouseOver);\r\n        util.attachDOMEvent(this.outerDiv, 'mouseout',  this._SelectorMouseOut);\r\n\r\n        // Register keymanweb events\r\n        this.registerEvents();\r\n\r\n        this.kbdIcon.src = imgPath+'kbdicon.gif';\r\n        this.kbdIcon.title = 'Display visual keyboard';\r\n\r\n        // Set initial OSK button style (off by default)\r\n        this.oskButtonState(false);\r\n\r\n        const Lhdiv = util.createElement('div');\r\n        this.oskButton = Lhdiv;\r\n        Lhdiv.onclick = this.toggleOSK;\r\n        Lhdiv.appendChild(this.kbdIcon);\r\n        this.innerDiv.appendChild(Lhdiv);\r\n        this.outerDiv.appendChild(this.innerDiv);\r\n        document.body.appendChild(this.outerDiv);\r\n\r\n        this.KeyboardSelector =  util.createElement('select'); // ControlSelector - KeymanWeb keyboard selector\r\n\r\n        s=this.KeyboardSelector.style;\r\n        s.font='8pt sans-serif';\r\n        s.backgroundColor='#f3e5de';\r\n        s.border='solid 1px #7B9EBD';\r\n        s.height='16px';\r\n        s.margin='1px 2px 0px 2px';\r\n        s.left='20px';\r\n        s.top='0px';\r\n        s.position='absolute';\r\n        s.maxWidth='150px';\r\n\r\n        util.attachDOMEvent(this.KeyboardSelector, 'change', this.SelectKeyboardChange);\r\n        util.attachDOMEvent(this.KeyboardSelector, 'blur',   this.SelectBlur);\r\n\r\n        this.innerDiv.appendChild(this.KeyboardSelector);  //this may need to be moved up....\r\n\r\n        // Check required interface alignment and default keyboard\r\n        const opt=util.getOption('ui');\r\n        let dfltKeyboard='(System keyboard)';\r\n        if(opt && typeof(opt) == 'object') {\r\n          if(typeof(opt['position']) == 'string' && opt['position'] == 'right') {\r\n            this.floatRight = true;\r\n          } if(typeof(opt['default']) == 'string') {\r\n            dfltKeyboard = opt['default'];\r\n          }\r\n        }\r\n\r\n        let Lopt = util.createElement('option');\r\n        Lopt.value = '-';\r\n        Lopt.innerHTML = dfltKeyboard;\r\n        this.KeyboardSelector.appendChild(Lopt);\r\n        Lopt = null;\r\n\r\n        // This must be set before updating the keyboard list to prevent recursion!\r\n        this.initialized = true;\r\n\r\n        // Update the keyboard list if required\r\n        this.updateKeyboardList();\r\n\r\n        //may also want to initialize style sheet here ??\r\n      }\r\n\r\n      readonly _UnloadUserInterface = () => {\r\n        this.KeyboardSelector = this.innerDiv = this.outerDiv = this.kbdIcon = null;\r\n      };\r\n\r\n      /**\r\n       * UI removal - resource cleanup\r\n       */\r\n      shutdown() {\r\n        const root = this.outerDiv;\r\n        if(root) {\r\n          root.parentNode.removeChild(root);\r\n        }\r\n\r\n        this._UnloadUserInterface();\r\n\r\n        if(window.removeEventListener) {\r\n          window.removeEventListener('resize', this._Resize, false);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Update list of keyboards shown by UI\r\n       */\r\n      readonly updateKeyboardList = () => {\r\n        // Do nothing unless list requires updating\r\n        if(this.updateList) {\r\n          if(!this.initialized) {\r\n            this.initialize();\r\n          }\r\n\r\n          // Remove current list (except for default element)\r\n          const opts=this.KeyboardSelector.getElementsByTagName('OPTION');\r\n          for(let i=opts.length; i>1; i--) {\r\n            this.KeyboardSelector.removeChild(opts[i-1]);\r\n          }\r\n\r\n          // Loop over installed keyboards and add to selection list\r\n          const Lkbds=keymanweb.getKeyboards();\r\n\r\n          for(let Ln=0; Ln<Lkbds.length; Ln++) {\r\n            let Lopt = util.createElement('option');\r\n            Lopt.value = Lkbds[Ln].InternalName+':'+Lkbds[Ln].LanguageCode;\r\n            Lopt.innerHTML = Lkbds[Ln].Name.replace(/\\s?keyboard/i,'');\r\n            if(Lkbds[Ln].LanguageName) {\r\n              let lg=Lkbds[Ln].LanguageName;\r\n              // Only show the main language name if variants indicated (this is tentative)\r\n              // e.g. Chinese rather than Chinese, Mandarin, which is in the keyboard name\r\n              lg = lg.split(',')[0];\r\n              if(Lkbds[Ln].Name.search(lg) == -1) {\r\n                Lopt.innerHTML = lg+' ('+Lopt.innerHTML+')';  // I1300 - Language support\r\n              }\r\n            }\r\n\r\n            this.KeyboardSelector.appendChild(Lopt);\r\n            Lopt = null;\r\n          }\r\n        }\r\n        this.updateList = false;\r\n\r\n        // Set the menu selector to the currently saved keyboard\r\n        const sk = keymanweb.getSavedKeyboard().split(':');\r\n        if(sk.length < 2) {\r\n          sk[1] = '';\r\n        }\r\n        this.updateMenu(sk[0],sk[1]);\r\n\r\n        // Redisplay the UI to correct width for any new language entries\r\n        if(keymanweb.getLastActiveElement()) {\r\n          this.HideInterface();\r\n          this.ShowInterface();\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Function     updateMenu\r\n       * Scope        Private\r\n       * @param       {string}     kbd\r\n       * @param       {string}     lg\r\n       * Description  Update the UI menu selection\r\n       *              Separate arguments passed to allow better control of selection when a keyboard\r\n       *              is listed more than once for different language codes\r\n       */\r\n      readonly updateMenu = (kbd: string, lg: string) => {\r\n        let i=0;\r\n\r\n        // This can be called during startup before fully initialized - ignore if so\r\n        if(!this.initialized) {\r\n          return;\r\n        }\r\n\r\n        let match = kbd;\r\n        if(lg != '') {\r\n          match += ':' + lg;\r\n        }\r\n\r\n        if(kbd == '') {\r\n          this.KeyboardSelector.selectedIndex=0;\r\n        } else {\r\n          const opt=this.KeyboardSelector.getElementsByTagName('option');\r\n          for(i=0; i<opt.length; i++) {\r\n            let t=opt[i].value;\r\n            if(lg == '') {\r\n              t = t.split(':')[0];\r\n            }\r\n\r\n            if(t == match) {\r\n              this.KeyboardSelector.selectedIndex=i;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Function     oskButtonState\r\n       * Scope        Private\r\n       * @param       {boolean}     oskEnabled\r\n       * Description  Update kbd icon border style to indicate whether OSK is enabled for display or not\r\n       **/\r\n      readonly oskButtonState = (oskEnabled: boolean) => {\r\n        const s = this.kbdIcon.style;\r\n        s.width='24px';\r\n        s.height='13px';\r\n        s.top='1px';\r\n        s.verticalAlign='bottom';\r\n        s.padding='2px 2px 1px 2px';\r\n        s.position='absolute';\r\n        s.border=oskEnabled ? 'inset 1px #808080' : 'none';\r\n        s.background=oskEnabled ? '#f7e7de' : 'white';\r\n        s.display = 'block';\r\n        if(this.initialized) {\r\n          this.oskButton.style.display = 'block';\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Register all keymanweb and OSK events only after keymanweb is fully initialized\r\n       *\r\n       **/\r\n      registerEvents() {\r\n        /**\r\n         * Keyboard registration event handler\r\n         *\r\n         * Set a timer to update the UI keyboard list on timeout after each keyboard is registered,\r\n         * thus updating only once when only if multiple keyboards are registered together\r\n         */\r\n        keymanweb.addEventListener('keyboardregistered', (p) => {\r\n          this.updateList = true;\r\n          if(this.updateTimer) {\r\n            clearTimeout(this.updateTimer);\r\n          }\r\n          this.updateTimer = window.setTimeout(this.updateKeyboardList, 200);\r\n        });\r\n\r\n        /**\r\n         * Keyboard load event handler\r\n         *\r\n         * Set the menu selector to the currently saved keyboard when a keyboard is loaded\r\n         *\r\n         * Note: Cannot simply set it to the loaded keyboard,\r\n         *       as more than one language may be supported by that keyboard.\r\n         */\r\n        keymanweb.addEventListener('keyboardloaded', (p) => {\r\n          const sk = keymanweb.getSavedKeyboard().split(':');\r\n          if(sk.length > 1) {\r\n            this.updateMenu(sk[0],sk[1]);\r\n          }\r\n        });\r\n\r\n        /**\r\n         * Keyboard change event handler\r\n         *\r\n         * Update menu selection and control OSK display appropriately\r\n         */\r\n        keymanweb.addEventListener('keyboardchange', (p) => {\r\n          // Update the keyboard selector whenever a keyboard is loaded\r\n          this.updateMenu(p.internalName, p.languageCode);\r\n\r\n          // (Conditionally) display the OSK button, and set the style\r\n          this.addButtonOSK();\r\n        });\r\n\r\n        const osk = keymanweb.osk;\r\n        if(!osk) {\r\n          return;\r\n        }\r\n\r\n        /**\r\n         * Show OSK event handler: show or hide the OSK button (never display if a CJK keyboard)\r\n         */\r\n        osk.addEventListener('show', (oskPosition) => {\r\n          this.addButtonOSK();\r\n          return oskPosition;\r\n        });\r\n\r\n        /**\r\n         * Hide OSK event handler\r\n         */\r\n\r\n        osk.addEventListener('hide', (hiddenByUser) => {\r\n          if(this.initialized) {\r\n            this.oskButtonState(false);\r\n          }\r\n        });\r\n      }\r\n\r\n      /**\r\n       * Function     _SelectorMouseDown\r\n       * Scope        Private\r\n       * @param       {Object}     e      event\r\n       * Description  Set KMW UI activation state on mouse click\r\n       */\r\n      readonly _SelectorMouseDown = (e: MouseEvent) => {\r\n        if(keymanweb.activatingUI) {\r\n          keymanweb.activatingUI(1);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Function     _SelectorMouseOver\r\n       * Scope        Private\r\n       * @param       {Object}    e       event\r\n       * Description  Set KMW UI activation state on mouse over\r\n       */\r\n      readonly _SelectorMouseOver = (e: MouseEvent) => {\r\n        if(keymanweb.activatingUI) {\r\n          keymanweb.activatingUI(1);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Function     _SelectorMouseOut\r\n       * Scope        Private\r\n       * @param       {Object}    e       event\r\n       * Description Clear KMW UI activation state on mouse out\r\n       */\r\n      readonly _SelectorMouseOut = (e: MouseEvent) => {\r\n        if(keymanweb.activatingUI) {\r\n          keymanweb.activatingUI(0);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Function     _SelectKeyboardChange\r\n       * Scope        Private\r\n       * @param       {Object}    e       event\r\n       * Description  Change active keyboard in response to user selection event\r\n       */\r\n      private readonly SelectKeyboardChange = async (e: Event) => {\r\n        keymanweb.activatingUI(true);\r\n\r\n        if(this.KeyboardSelector.value != '-') {\r\n          const i=this.KeyboardSelector.selectedIndex;\r\n          const t=this.KeyboardSelector.options[i].value.split(':');\r\n          await keymanweb.setActiveKeyboard(t[0],t[1]);\r\n        } else {\r\n          await keymanweb.setActiveKeyboard('');\r\n        }\r\n\r\n        //if(osk['show']) osk['show'](osk['isEnabled']()); handled by keyboard change event???\r\n        keymanweb.focusLastActiveElement();\r\n        keymanweb.activatingUI(false);\r\n        this.selecting = true;\r\n      }\r\n\r\n      /**\r\n       * Function     _SelectBlur\r\n       * Scope        Private\r\n       * @param       {Object}    e       event\r\n       * Description  Ensure OSK is hidden when moving focus after reselecting a keyboard\r\n       */\r\n      readonly SelectBlur = (e: Event) => {\r\n        if(!this.selecting) {\r\n          keymanweb.focusLastActiveElement();\r\n        }\r\n        this.selecting = false;\r\n      }\r\n\r\n      /**\r\n       * Function     ShowInterface\r\n       * Scope        Private\r\n       * @param       {number=}    Px    x-position for KMW window\r\n       * @param       {number=}    Py    y-position for KMW window\r\n       * Description  Display KMW window at specified position\r\n       */\r\n      readonly ShowInterface = (Px?: number, Py?: number) => {\r\n        if(!this.initialized) return;\r\n\r\n        const Ls = this.outerDiv.style;\r\n\r\n        if(Px  &&  Py) {\r\n          Ls.left = Px + 'px';\r\n          Ls.top = Py + 'px';\r\n        }\r\n        Ls.display = 'block';\r\n\r\n        this.kbdIcon.style.left = this.KeyboardSelector.offsetWidth + 24 + 'px';\r\n\r\n        // (Conditionally) display the OSK button\r\n        this.addButtonOSK();\r\n\r\n        // Set the language selection to the currently active keyboard, if listed\r\n        this.updateMenu(keymanweb.getActiveKeyboard(), keymanweb.getActiveLanguage());\r\n      }\r\n\r\n      /**\r\n       * Function     HideInterface\r\n       * Scope        Private\r\n       * Description  Completely hide KMW window\r\n       */\r\n      readonly HideInterface = () => {\r\n        if(!this.initialized) {\r\n          return;\r\n        }\r\n\r\n        this.outerDiv.style.display = 'none';\r\n      }\r\n\r\n      /**\r\n       * Function     addButtonOSK\r\n       * Scope        Private\r\n       * Description  Display the OSK button unless a CJK keyboard (or English)\r\n       */\r\n      readonly addButtonOSK = () => {\r\n        if(this.oskButton != null) {\r\n          if(keymanweb.isCJK() || (this.KeyboardSelector.selectedIndex==0)) {\r\n            this.oskButton.style.display = 'none';\r\n            this.outerDiv.style.width = this.KeyboardSelector.offsetWidth+30+'px';\r\n          } else {\r\n            this.oskButton.style.display = 'block';\r\n            const osk = keymanweb.osk;\r\n            if(osk) {\r\n              this.oskButtonState(osk.isEnabled());\r\n            } else {\r\n              this.oskButtonState(false);\r\n            }\r\n            this.outerDiv.style.width = this.KeyboardSelector.offsetWidth+56+'px';\r\n          }\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Function     _Resize\r\n       * Scope        Private\r\n       * @param       {Object}     e      event object\r\n       * @return      {boolean}\r\n       * Description  Display KMW OSK at specified position (returns nothing)\r\n       */\r\n      readonly _Resize = (e: Event) => {\r\n        if(this.outerDiv.style.display =='block') {\r\n          const elem = keymanweb.getLastActiveElement();\r\n          if(this.floatRight) {  // I1296\r\n            this.ShowInterface(util.getAbsoluteX(elem) + elem.offsetWidth + 1, util.getAbsoluteY(elem) + 1);\r\n          } else {\r\n            this.ShowInterface(util.getAbsoluteX(elem) + 1, util.getAbsoluteY(elem) + elem.offsetHeight + 1);\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    }\r\n\r\n    const ui=keymanweb.ui = new UIFloat();\r\n\r\n    //TODO:  had to expose properties of params - what does that do? (focus event doesn't normally include these properties?)\r\n    keymanweb.addEventListener('controlfocused', (params) => {\r\n      // ... this check shouldn't need to check _kmwAttachment directly.\r\n      if(params.activeControl == null || params.activeControl['_kmwAttachment']) {\r\n        /*if(keymanweb.domManager._IsEditableIframe(Ltarg))\r\n          Ltarg = Ltarg.defaultView.frameElement;*/\r\n        if(ui.floatRight) {  // I1296\r\n          ui.ShowInterface(util.getAbsoluteX(params.target) + params.target.offsetWidth + 1, util.getAbsoluteY(params.target) + 1);\r\n        } else {\r\n          ui.ShowInterface(util.getAbsoluteX(params.target), util.getAbsoluteY(params.target)\r\n            - parseInt(util.getStyleValue(ui.outerDiv,'height'),10) - 2);\r\n        }\r\n      }\r\n      return true;\r\n    });\r\n\r\n    keymanweb.addEventListener('controlblurred', (params) => {\r\n      if(!params.event) {\r\n        return true;   // I2404 - Manage IE events in IFRAMEs\r\n      }\r\n\r\n      if(!params.isActivating) {\r\n        ui.HideInterface();\r\n      }\r\n\r\n      return true;\r\n    });\r\n\r\n    if(window.addEventListener) {\r\n      window.addEventListener('resize', ui._Resize, false);\r\n    }\r\n\r\n    // but also call initialization when script loaded, which is after KMW initialization for asynchronous script loading\r\n    ui.initialize();\r\n\r\n    // is/was never actually raised.  Note that the `shutdown` method likely fulfills a similar role.\r\n    // keymanweb.addEventListener('unloaduserinterface', ui._UnloadUserInterface);\r\n\r\n  } catch(err){}\r\n\r\n  // Do not wrap in an anonymous function - let the closure compiler do that, but\r\n  // use try...catch to avoid script errors and only execute if a desktop browser\r\n}"
  ],
  "mappings": "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",
  "names": [
    "__awaiter",
    "thisArg",
    "_arguments",
    "P",
    "generator",
    "adopt",
    "value",
    "resolve",
    "__name",
    "reject",
    "fulfilled",
    "step",
    "e",
    "rejected",
    "result",
    "keymanweb",
    "_a",
    "util",
    "_UIFloat",
    "osk",
    "imgPath",
    "s",
    "Lhdiv",
    "opt",
    "dfltKeyboard",
    "Lopt",
    "opts",
    "i",
    "Lkbds",
    "Ln",
    "lg",
    "sk",
    "kbd",
    "match",
    "t",
    "oskEnabled",
    "e",
    "__awaiter",
    "Px",
    "Py",
    "Ls",
    "elem",
    "root",
    "p",
    "oskPosition",
    "hiddenByUser",
    "__name",
    "UIFloat",
    "ui",
    "params",
    "err"
  ]
}